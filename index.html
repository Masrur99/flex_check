<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>FLEX –°—Ç–∞—Ç—É—Å –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</title>
  <style>
    body {
      font-family: sans-serif;
      background: #f8f9fa;
      text-align: center;
      padding: 50px;
    }
    h1 {
      color: #333;
    }
    #status {
      font-size: 24px;
      margin: 20px;
    }
    #counter {
      margin-top: 10px;
      color: #555;
    }
    button {
      padding: 10px 20px;
      font-size: 16px;
      margin-top: 30px;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <h1>üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–∞ FLEX</h1>
  <div id="status">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
  <div id="counter">–ü—Ä–æ–≤–µ—Ä–æ–∫: 0</div>
  <button onclick="checkStatus()">üîÑ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –µ—â—ë —Ä–∞–∑</button>

  <script>
    const statusEl = document.getElementById("status");
    const counterEl = document.getElementById("counter");

    let counter = localStorage.getItem("flex_check_count") || 0;

    function updateCounter() {
      counter++;
      localStorage.setItem("flex_check_count", counter);
      counterEl.textContent = "–ü—Ä–æ–≤–µ—Ä–æ–∫: " + counter;
    }

    async function checkStatus() {
      updateCounter();
      statusEl.textContent = "‚è≥ –ü—Ä–æ–≤–µ—Ä—è—é —Å—Ç–∞—Ç—É—Å...";

      try {
        const proxyUrl = "https://api.codetabs.com/v1/proxy?quest=";
        const targetUrl = "https://www.discoverflex.org";
        const response = await fetch(proxyUrl + targetUrl);
        const html = await response.text();

        if (html.toLowerCase().includes("registration is open")) {
          statusEl.innerHTML = "‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è <b>–û–¢–ö–†–´–¢–ê</b>!";
        } else {
          statusEl.innerHTML = "‚ùå –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–∫–∞ <b>–∑–∞–∫—Ä—ã—Ç–∞</b>.";
        }
      } catch (error) {
        statusEl.textContent = "‚ö†Ô∏è –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ.";
        console.error(error);
      }
    }

    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
    checkStatus();
  </script>

</body>
</html>
